{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{525:function(s,t,a){\"use strict\";a.r(t);var n=a(30),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[a(\"ul\",[a(\"li\",[s._v(\"在服务器上搭建Git环境，创建Git仓库\")]),s._v(\" \"),a(\"li\",[s._v(\"在主机生成Hexo静态文件，通过与服务器连接，推到服务器上的Git仓库\")]),s._v(\" \"),a(\"li\",[s._v(\"通过git-hooks实现自动部署到网站资源目录\")]),s._v(\" \"),a(\"li\",[s._v(\"Nginx做静态文件服务器，实现外界对网站资源目录的访问\")])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"创建一个git用户\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#创建一个git用户\"}},[s._v(\"#\")]),s._v(\" 创建一个Git用户\")]),s._v(\" \"),a(\"p\",[s._v(\"创建一个git用户，并在home目录下建立一个\"),a(\"code\",[s._v(\".ssh\")]),s._v(\"目录，赋予其700权限。\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" adduser -m \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"git\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"su\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"git\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"mkdir\")]),s._v(\" ~/.ssh \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chmod\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"700\")]),s._v(\" ~/.ssh\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"touch\")]),s._v(\" ~/.ssh/authorized_keys \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chmod\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"600\")]),s._v(\" ~/.ssh/authorized_keys\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\")])]),a(\"p\",[a(\"code\",[s._v(\".ssh\")]),s._v(\"目录和\"),a(\"code\",[s._v(\"authorized_keys\")]),s._v(\"文件权限如下\")]),s._v(\" \"),a(\"p\",[s._v(\"[图片]略\")]),s._v(\" \"),a(\"p\",[s._v(\"然后只需要将ssh连接的公钥复制到\"),a(\"code\",[s._v(\"authorized_keys\")]),s._v(\"文件中就可以通过ssh 连接git用户了\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"限制git用户的shell\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#限制git用户的shell\"}},[s._v(\"#\")]),s._v(\" 限制git用户的shell\")]),s._v(\" \"),a(\"p\",[s._v(\"上面创建的git用户可以通过ssh连接，进行任何操作。为了安全性，我们需要将git用户的活动限制在与Git相关的范围，也就是把git用户的shell改成 \"),a(\"code\",[s._v(\"git-shell\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" chsh \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"git\")]),s._v(\" -s \"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$(\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"which\")]),s._v(\" git-shell\"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\")\")])]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"p\",[s._v(\"当然通过修改\"),a(\"code\",[s._v(\"/etc/profile\")]),s._v(\"也可以达成这一目的。\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"创建blog-对应的git仓库\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#创建blog-对应的git仓库\"}},[s._v(\"#\")]),s._v(\" 创建blog 对应的git仓库\")]),s._v(\" \"),a(\"p\",[s._v(\"在 \"),a(\"code\",[s._v(\"/var/repo\")]),s._v(\"下，创建一个空的\"),a(\"code\",[s._v(\"blog.git\")]),s._v(\"仓库，请灵活替换。\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"mkdir\")]),s._v(\" /var/repo\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" /var/repo\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"git\")]),s._v(\" init --bare blog.git\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"配置git-hooks\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#配置git-hooks\"}},[s._v(\"#\")]),s._v(\" 配置git-hooks\")]),s._v(\" \"),a(\"p\",[s._v(\"也就是配置git推送后执行的脚本\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" /var/repo/blog.git/hooks/post-receive\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"p\",[s._v(\"添加\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-text line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"#!/bin/bash\\ngit --work-tree=/var/www/hexo --git-dir=/var/repo/blog.git checkout -f\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])]),a(\"p\",[s._v(\"意思是从\"),a(\"code\",[s._v(\"blog.git\")]),s._v(\"仓库覆盖掉\"),a(\"code\",[s._v(\"/var/hexo\")]),s._v(\"目录，达到更新的目的。为其添加执行权限\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chmod\")]),s._v(\" +x /var/repo/blog.git/hooks/post-receive\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"p\",[s._v(\"改变blog.git目录的拥有者\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chown\")]),s._v(\" -R git:git blog.git\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"创建静态文件目录-并赋予权限\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#创建静态文件目录-并赋予权限\"}},[s._v(\"#\")]),s._v(\" 创建静态文件目录，并赋予权限\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"mkdir\")]),s._v(\" /var/www/hexo\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chown\")]),s._v(\" -R git:git /var/www/hexo\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chmod\")]),s._v(\" -R \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"755\")]),s._v(\" /var/www/hexo\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"测试\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#测试\"}},[s._v(\"#\")]),s._v(\" 测试\")]),s._v(\" \"),a(\"p\",[s._v(\"配置完git后，可以通过\"),a(\"code\",[s._v(\"git clone git@<ip地址或域名>:/var/repo/blog.git\")]),s._v(\"来测试git ssh\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"配置hexo\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#配置hexo\"}},[s._v(\"#\")]),s._v(\" 配置hexo\")]),s._v(\" \"),a(\"p\",[s._v(\"打开hexo blog的目录，修改\"),a(\"code\",[s._v(\"_config.yml\")]),s._v(\"文件，然后就可以使用\"),a(\"code\",[s._v(\"npx hexo clean && npx hexo g -d\")]),s._v(\"进行生成部署了\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-text line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"deploy:\\n  type: git\\n  repository : git@&lt;ip地址或与域名>:/var/repo/blog.git\\n  branch: master\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"nginx配置http强制跳转https\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#nginx配置http强制跳转https\"}},[s._v(\"#\")]),s._v(\" nginx配置http强制跳转https\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"很多网站虽然支持 https, 但是直接在浏览器地址栏输入网址后, 默认仍是以 http 协议去访问的, http 强制跳转 https 的需求应运而生,\")])]),s._v(\" \"),a(\"h3\",{attrs:{id:\"rewrite-方法\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#rewrite-方法\"}},[s._v(\"#\")]),s._v(\" rewrite 方法\")]),s._v(\" \"),a(\"p\",[s._v(\"这是最常用的实现方法, 将所有 http 请求通过 rewrite 重定向到 https 即可\")]),s._v(\" \"),a(\"p\",[s._v(\"进入nginx.conf文件下\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" /usr/local/nginx/nginx.conf\\n或\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" /etc/nginx/sites-available/default\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\")])]),a(\"p\",[s._v(\"打开之后文件，可以将没用的东西都删除掉，删除的时候注意，括号要对应起来。\")]),s._v(\" \"),a(\"p\",[s._v(\"然后进行配置，输入：\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[s._v(\"http \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"\\n    include       mime.types\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n    default_type  application/octet-stream\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n    sendfile        on\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n    keepalive_timeout  \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"65\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n  server \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#监听443端口\")]),s._v(\"\\n    listen \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"443\")]),s._v(\" ssl\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#index index.html index.htm;\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#access_log  /var/log/nginx/docs.log  main;\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#你的域名\")]),s._v(\"\\n    server_name zervan.cn\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\" \\n    ssl on\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#ssl证书的pem文件路径\")]),s._v(\"\\n    ssl_certificate   /etc/nginx/cert/7105204_zervan.cn.pem\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#ssl证书的key文件路径\")]),s._v(\"\\n    ssl_certificate_key /etc/nginx/cert/7105204_zervan.cn.key\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n    location / \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"\\n      root /var/www/hexo\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n     \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#proxy_pass  http://公网地址:项目端口号;\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\"\\n\\nserver \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"\\n    listen \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"80\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n    server_name zervan.cn\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#将请求转成https\")]),s._v(\"\\n    rewrite ^\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\".*\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\"$ https://\"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$host\")]),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$1\")]),s._v(\" permanent\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n     \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# return 302 https://$host$request_uri;\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"###\")]),s._v(\"\\n server \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"\\n\\n    listen \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"443\")]),s._v(\" ssl\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n\\n    server_name zervan.cn\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\" \\n\\n    ssl_certificate   /etc/nginx/cert/7105204_zervan.cn.pem\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n\\n    ssl_certificate_key /etc/nginx/7105204_zervan.cn.key\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n    location / \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"\\n      root /var/www/hexo\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\"\\nserver \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"\\n        listen \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"80\")]),s._v(\" default_server\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n        listen \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),s._v(\"::\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),s._v(\":80 default_server\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n        root /var/www/hexo\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n\\n        server_name _\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n        location / \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"\\n                try_files \"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$uri\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$uri\")]),s._v(\"/ \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"404\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n        \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"20\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"21\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"22\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"23\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"24\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"25\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"26\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"27\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"28\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"29\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"30\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"31\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"32\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"33\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"34\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"35\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"36\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"37\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"38\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"39\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"40\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"41\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"42\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"43\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"44\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"45\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"46\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"47\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"48\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"49\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"50\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"51\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"52\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"53\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"54\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"55\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"56\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"57\")]),a(\"br\")])]),a(\"blockquote\",[a(\"p\",[s._v(\"注意：这里需要在安全组中开放443端口。\")])]),s._v(\" \"),a(\"p\",[s._v(\"配置完成，重启nginx服务。\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"附-nginx常用命令\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#附-nginx常用命令\"}},[s._v(\"#\")]),s._v(\" 附：nginx常用命令\")]),s._v(\" \"),a(\"h3\",{attrs:{id:\"停止开机自启动\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#停止开机自启动\"}},[s._v(\"#\")]),s._v(\" 停止开机自启动\")]),s._v(\" \"),a(\"p\",[s._v(\"systemctl disable nginx.service\")]),s._v(\" \"),a(\"h3\",{attrs:{id:\"设置nginx服务开机自启动\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#设置nginx服务开机自启动\"}},[s._v(\"#\")]),s._v(\" 设置nginx服务开机自启动\")]),s._v(\" \"),a(\"p\",[s._v(\"systemctl enable nginx.service\")]),s._v(\" \"),a(\"h3\",{attrs:{id:\"启动nginx-服务\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#启动nginx-服务\"}},[s._v(\"#\")]),s._v(\" 启动nginx 服务\")]),s._v(\" \"),a(\"p\",[s._v(\"systemctl start nginx.service\")]),s._v(\" \"),a(\"h3\",{attrs:{id:\"停止nginx服务\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#停止nginx服务\"}},[s._v(\"#\")]),s._v(\" 停止nginx服务\")]),s._v(\" \"),a(\"p\",[s._v(\"systemctl stop nginx.service\")]),s._v(\" \"),a(\"h3\",{attrs:{id:\"重启nginx服务\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#重启nginx服务\"}},[s._v(\"#\")]),s._v(\" 重启nginx服务\")]),s._v(\" \"),a(\"p\",[s._v(\"systemctl restart nginx.service\")]),s._v(\" \"),a(\"h3\",{attrs:{id:\"重新读取nginx配置\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#重新读取nginx配置\"}},[s._v(\"#\")]),s._v(\" 重新读取nginx配置\")]),s._v(\" \"),a(\"p\",[s._v(\"(这个最常用, 不用停止nginx服务就能使修改的配置生效)\\nsystemctl reload nginx.service\")]),s._v(\" \"),a(\"h3\",{attrs:{id:\"查看服务当前状态\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#查看服务当前状态\"}},[s._v(\"#\")]),s._v(\" 查看服务当前状态\")]),s._v(\" \"),a(\"p\",[s._v(\"systemctl status nginx.service\")]),s._v(\" \"),a(\"h3\",{attrs:{id:\"查看所有已启动的服务\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#查看所有已启动的服务\"}},[s._v(\"#\")]),s._v(\" 查看所有已启动的服务\")]),s._v(\" \"),a(\"p\",[s._v(\"systemctl list-units --type=service\")])])}),[],!1,null,null,null);t.default=e.exports}}]);","extractedComments":[]}