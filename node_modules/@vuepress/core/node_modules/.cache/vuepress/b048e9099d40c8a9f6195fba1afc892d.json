{"remainingRequest":"/Users/zervan/GitHub/ViliVala/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/zervan/GitHub/ViliVala/node_modules/vuepress-plugin-comment/util.js","dependencies":[{"path":"/Users/zervan/GitHub/ViliVala/node_modules/vuepress-plugin-comment/util.js","mtime":1675328261510},{"path":"/Users/zervan/GitHub/ViliVala/node_modules/cache-loader/dist/cjs.js","mtime":1675328258502},{"path":"/Users/zervan/GitHub/ViliVala/node_modules/babel-loader/lib/index.js","mtime":1675328258443}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3plcnZhbi9HaXRIdWIvVmlsaVZhbGEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWZsZWN0Lm93bi1rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVmbGVjdC50by1zdHJpbmctdGFnLmpzIjsKaW1wb3J0IGVqcyBmcm9tICdlanMnOwppbXBvcnQgY29uZmlnIGZyb20gJy4vcGFja2FnZS5qc29uJzsKdmFyIEdpdGFsaywgVmFsaW5lOwpsb2FkU2NyaXB0KENPTU1FTlRfQ0hPT1NFTik7CnZhciBkZWZhdWx0Q2hvb3NlbiA9ICdjb21tZW50IHBsdWdpbnMnOwpjb25zb2xlLmxvZygiSG93IHRvIHVzZSBcIiIuY29uY2F0KENPTU1FTlRfQ0hPT1NFTiB8fCBkZWZhdWx0Q2hvb3NlbiwgIlwiIGluICIpLmNvbmNhdChjb25maWcubmFtZSwgIkB2IikuY29uY2F0KGNvbmZpZy52ZXJzaW9uLCAiOiIpLCBjb25maWcuaG9tZXBhZ2UpOwovKioKICogTGF6eSBsb2FkIHBrZwogKiAKICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGxvYWRTY3JpcHQobmFtZSkgewogIGlmIChuYW1lID09PSAndmFsaW5lJykgewogICAgaW1wb3J0KCd2YWxpbmUnKS50aGVuKGZ1bmN0aW9uIChwa2cpIHsKICAgICAgcmV0dXJuIFZhbGluZSA9IHBrZ1siZGVmYXVsdCJdOwogICAgfSk7CiAgfSBlbHNlIGlmIChuYW1lID09PSAnZ2l0YWxrJykgewogICAgaW1wb3J0KCdnaXRhbGsvZGlzdC9naXRhbGsuY3NzJykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJ2dpdGFsaycpOwogICAgfSkudGhlbihmdW5jdGlvbiAocGtnKSB7CiAgICAgIHJldHVybiBHaXRhbGsgPSBwa2dbImRlZmF1bHQiXTsKICAgIH0pOwogIH0KfQovKioKICogUmVuZGVyIGVqcyBzdHJpbmdzIGluIGNvbmZpZ3VyYXRpb24KICogCiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgCiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIAogKi8KCmV4cG9ydCBmdW5jdGlvbiByZW5kZXJDb25maWcoY29uZmlnLCBkYXRhKSB7CiAgdmFyIHJlc3VsdCA9IHt9OwogIFJlZmxlY3Qub3duS2V5cyhjb25maWcpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgaWYgKHR5cGVvZiBjb25maWdba2V5XSA9PT0gJ3N0cmluZycpIHsKICAgICAgdHJ5IHsKICAgICAgICByZXN1bHRba2V5XSA9IGVqcy5yZW5kZXIoY29uZmlnW2tleV0sIGRhdGEpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUud2FybigiQ29tbWVudCBjb25maWcgb3B0aW9uIGVycm9yIGF0IGtleSBuYW1lZCBcIiIuY29uY2F0KGtleSwgIlwiIikpOwogICAgICAgIGNvbnNvbGUud2FybigiTW9yZSBpbmZvOiAiLmNvbmNhdChlcnJvci5tZXNzYWdlKSk7CiAgICAgICAgcmVzdWx0W2tleV0gPSBjb25maWdba2V5XTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgcmVzdWx0W2tleV0gPSBjb25maWdba2V5XTsKICAgIH0KICB9KTsKICByZXR1cm4gcmVzdWx0Owp9Ci8qKgogKiBTdXBwb3J0IEdpdGFsayBhbmQgc28gb24uCiAqLwoKZXhwb3J0IHZhciBwcm92aWRlciA9IHsKICBnaXRhbGs6IHsKICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGZyb250bWF0dGVyLCBjb21tZW50RG9tSUQpIHsKICAgICAgdmFyIGNvbW1lbnRET00gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgY29tbWVudERPTS5pZCA9IGNvbW1lbnREb21JRDsKICAgICAgdmFyIHBhcmVudERPTSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoQ09NTUVOVF9DT05UQUlORVIpOwogICAgICBwYXJlbnRET00uYXBwZW5kQ2hpbGQoY29tbWVudERPTSk7CiAgICAgIHZhciBnaXR0YWxrID0gbmV3IEdpdGFsayhyZW5kZXJDb25maWcoQ09NTUVOVF9PUFRJT05TLCB7CiAgICAgICAgZnJvbnRtYXR0ZXI6IGZyb250bWF0dGVyCiAgICAgIH0pKTsKICAgICAgZ2l0dGFsay5yZW5kZXIoY29tbWVudERvbUlEKTsKICAgIH0sCiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoY29tbWVudERvbUlEKSB7CiAgICAgIHZhciBsYXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiIyIuY29uY2F0KGNvbW1lbnREb21JRCkpOwoKICAgICAgaWYgKGxhc3QpIHsKICAgICAgICBsYXN0LnJlbW92ZSgpOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9LAogIHZhbGluZTogewogICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoZnJvbnRtYXR0ZXIsIGNvbW1lbnREb21JRCkgewogICAgICB2YXIgY29tbWVudERPTSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICBjb21tZW50RE9NLmlkID0gY29tbWVudERvbUlEOwogICAgICB2YXIgcGFyZW50RE9NID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihDT01NRU5UX0NPTlRBSU5FUik7CiAgICAgIHBhcmVudERPTS5hcHBlbmRDaGlsZChjb21tZW50RE9NKTsKICAgICAgbmV3IFZhbGluZShfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHJlbmRlckNvbmZpZyhDT01NRU5UX09QVElPTlMsIHsKICAgICAgICBmcm9udG1hdHRlcjogZnJvbnRtYXR0ZXIKICAgICAgfSkpLCB7fSwgewogICAgICAgIGVsOiAiIyIuY29uY2F0KGNvbW1lbnREb21JRCkKICAgICAgfSkpOwogICAgfSwKICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcihjb21tZW50RG9tSUQpIHsKICAgICAgdmFyIGxhc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjIi5jb25jYXQoY29tbWVudERvbUlEKSk7CgogICAgICBpZiAobGFzdCkgewogICAgICAgIGxhc3QucmVtb3ZlKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0KfTs="},{"version":3,"names":["ejs","config","Gitalk","Valine","loadScript","COMMENT_CHOOSEN","defaultChoosen","console","log","name","version","homepage","then","pkg","renderConfig","data","result","Reflect","ownKeys","forEach","key","render","error","warn","message","provider","gitalk","frontmatter","commentDomID","commentDOM","document","createElement","id","parentDOM","querySelector","COMMENT_CONTAINER","appendChild","gittalk","COMMENT_OPTIONS","clear","last","remove","valine","el"],"sources":["/Users/zervan/GitHub/ViliVala/node_modules/vuepress-plugin-comment/util.js"],"sourcesContent":["import ejs from 'ejs'\n\nimport config from './package.json'\n\nlet Gitalk, Valine\nloadScript(COMMENT_CHOOSEN)\n\nconst defaultChoosen = 'comment plugins'\nconsole.log(\n  `How to use \"${COMMENT_CHOOSEN || defaultChoosen}\" in ${config.name}@v${config.version}:`,\n  config.homepage\n)\n\n/**\n * Lazy load pkg\n * \n * @param {String} name \n */\nexport function loadScript (name) {\n  if (name === 'valine') {\n    import('valine')\n    .then(pkg => Valine = pkg.default)\n  } else if (name === 'gitalk') {\n    import('gitalk/dist/gitalk.css')\n    .then(() => import('gitalk'))\n    .then(pkg => Gitalk = pkg.default)\n  }\n}\n\n/**\n * Render ejs strings in configuration\n * \n * @param {Object} config \n * @param {Object} data \n */\nexport function renderConfig (config, data) {\n  const result = {}\n\n  Reflect.ownKeys(config)\n    .forEach(key => {\n      if (typeof config[key] === 'string') {\n        try {\n          result[key] = ejs.render(config[key], data)\n        } catch (error) {\n          console.warn(`Comment config option error at key named \"${key}\"`)\n          console.warn(`More info: ${error.message}`)\n          result[key] = config[key]\n        }\n      } else {\n        result[key] = config[key]\n      }\n    })\n  \n  return result\n}\n\n/**\n * Support Gitalk and so on.\n */\nexport const provider = {\n  gitalk: {\n    render (frontmatter, commentDomID) {\n      const commentDOM = document.createElement('div')\n      commentDOM.id = commentDomID\n\n      const parentDOM = document.querySelector(COMMENT_CONTAINER)\n      parentDOM.appendChild(commentDOM)\n      \n      const gittalk = new Gitalk(renderConfig(COMMENT_OPTIONS, { frontmatter }))\n      gittalk.render(commentDomID)\n    },\n    clear (commentDomID) {\n      const last = document.querySelector(`#${commentDomID}`)\n      if (last) {\n        last.remove()\n      }\n      return true\n    }\n  },\n  valine: {\n    render (frontmatter, commentDomID) {\n      const commentDOM = document.createElement('div')\n      commentDOM.id = commentDomID\n\n      const parentDOM = document.querySelector(COMMENT_CONTAINER)\n      parentDOM.appendChild(commentDOM)\n\n      new Valine({\n        ...renderConfig(COMMENT_OPTIONS, { frontmatter }),\n        el: `#${commentDomID}`\n      })\n    },\n    clear (commentDomID) {\n      const last = document.querySelector(`#${commentDomID}`)\n      if (last) {\n        last.remove()\n      }\n      return true\n    }\n  }\n}"],"mappings":"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"}]}